Started by user [8mha:AAAAnx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAyhEgZh/dLi1CL9rNS87My84vjElNzMPABy3sl5yAAAAA==[0mMahan Hashemizadeh
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/mahanhz/activities-config-microservice.git # timeout=10
Fetching upstream changes from https://github.com/mahanhz/activities-config-microservice.git
 > git --version # timeout=10
using .gitcredentials to set credentials
 > git config --local credential.username mahanhz # timeout=10
 > git config --local credential.helper store --file=/tmp/git4468788323421804884.credentials # timeout=10
 > git -c core.askpass=true fetch --tags --progress https://github.com/mahanhz/activities-config-microservice.git +refs/heads/*:refs/remotes/origin/*
 > git config --local --remove-section credential # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision f3906d3829fa0917fb9592eb1223e0870a72faf0 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f f3906d3829fa0917fb9592eb1223e0870a72faf0
 > git rev-list f8fb1726cf55941bf132467c86fc44ccbee365e0 # timeout=10
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] stage (Approve deploy?)
Entering stage Approve deploy?
Proceeding
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] timeout
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] {
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] input
Deploy snapshot?
[8mha:AAABLh+LCAAAAAAAAP9dj71OwzAUhW9SAStiRGzMsZMUQlLUARUkkCpAKi/gJE7i1tjGvunPwkPwGrAg8Qo8BC/AxszAQqAT3OGcs3yfdJ8+YMNZONW2JlOuZkK5QhAj27pbZKHtrJJ6QVxrjLZIHHLjiFCmRXJ9Nbk5XxlupVCzS418+6338nn09e6DN4ZeayXCznjK5oxKpmo6QStUfby0sNe0pdOKFFo5LTn5Y0mGj8/DB/Pqg38Bm5KrGpu17g7uwevw3X/4aN0/MKzP8wGWphtbCN4+AjaIZkBplMUkSlISkX406EdhRKc6pycFirlAwV3QKStRByU3Uq8Cp5hxjUZ6QH9fpiOeJWUVM5ayLsMiDg+zhGVpyOIqzfOQGqsLzsuzW4Orb5oWiQRbAQAA[0mProceed or [8mha:AAABKh+LCAAAAAAAAP9dkD1Ow0AQRseOQo0oER21d20HjB2UAoUCpAiQwgXWztreeNlddsf5aXIIrgENElfgEFyAjpqCBkMqmGLma96T5nv6gL6zcK5tReZcNUK5QhAj26pLZKltU0q9JK41RlskDrlxRCjTIrm5nt5erA23UqjmSiPffeu9fJ58vfvgTaDXWomwN5mzBaOSqYpO0QpVna4sHNTtzGlFCq2clpz8sSSjx+fRg3n1wb+EHclVhfVWdw8b8Dp8/x8+3t4fGLbj+QAr04U+gneIcFcjmiGlURaTKElJRAbRcBCFEZ3rnJ4VKBYCBXdBpyxFFcy4kXodOMWMqzXSI/r7Mh3zLJmVMWMp63ZYxOFxlrAsDVlcpnkeUpZ3LX0DSIR4plQBAAA=[0mAbort
Approved by [8mha:AAAAnx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAyhEgZh/dLi1CL9rNS87My84vjElNzMPABy3sl5yAAAAA==[0mMahan Hashemizadeh
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] }
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] // timeout
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] stage (Deploy snapshot)
Entering stage Deploy snapshot
Proceeding
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] node
Running on master in /var/lib/jenkins/workspace/Activities-config-deploy-snapshot
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] {
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/mahanhz/activities-config-microservice.git # timeout=10
Fetching upstream changes from https://github.com/mahanhz/activities-config-microservice.git
 > git --version # timeout=10
using .gitcredentials to set credentials
 > git config --local credential.username mahanhz # timeout=10
 > git config --local credential.helper store --file=/tmp/git9163211585886129909.credentials # timeout=10
 > git -c core.askpass=true fetch --tags --progress https://github.com/mahanhz/activities-config-microservice.git +refs/heads/*:refs/remotes/origin/*
 > git config --local --remove-section credential # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision f3906d3829fa0917fb9592eb1223e0870a72faf0 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f f3906d3829fa0917fb9592eb1223e0870a72faf0
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] stash
Stashed 32 file(s)
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] sh
[Activities-config-deploy-snapshot] Running shell script
+ ./gradlew deployToTest -PrepoId=snapshots -PartifactVersion=LATEST
:deployToTest
testServer1#4|Passed in arguments are: snapshots, LATEST, activities_config_
testServer1#4|This script assumes that the appadm user exists
testServer1#4|Set up application directory (assuming /opt folder already exists)
testServer1#4|Set up Log directory (assuming /var/opt folder already exists)
testServer1#4|Get the jar file from Nexus
testServer1#4|http://192.168.1.31:8082/nexus/service/local/artifact/maven/content?r=snapshots&g=com.amhzing.activities-config&a=activities-config-microservice&v=LATEST
testServer1#4|Move the conf folder (this assumes that the conf file was placed in the user's home directory)
testServer1#4|Create a symlink
testServer1#4|ln: failed to create symbolic link â€˜/etc/init.d/activities-config-microserviceâ€™: File exists
testServer1#4|Set up the application to start automatically on boot
testServer1#4|Restart the app

BUILD SUCCESSFUL

Total time: 44.47 secs

This build could be faster, please consider using the Gradle Daemon: https://docs.gradle.org/2.13/userguide/gradle_daemon.html
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] }
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] // node
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] stage (Health check)
Entering stage Health check
Proceeding
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] node
Running on master in /var/lib/jenkins/workspace/Activities-config-deploy-snapshot
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] {
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] retry
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] {
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] unstash
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] sh
[Activities-config-deploy-snapshot] Running shell script
+ chmod 755 gradlew
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] sh
[Activities-config-deploy-snapshot] Running shell script
+ SPRING_PROFILES_ACTIVE=testServer1 ./gradlew smokeTest
:compileJava UP-TO-DATE
:processResources
:classes
:compileTestJava
:processTestResources
:testClasses
:smokeTest

BUILD SUCCESSFUL

Total time: 1 mins 4.115 secs

This build could be faster, please consider using the Gradle Daemon: https://docs.gradle.org/2.13/userguide/gradle_daemon.html
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] }
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] // retry
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] }
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] // node
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] End of Pipeline
Finished: SUCCESS
