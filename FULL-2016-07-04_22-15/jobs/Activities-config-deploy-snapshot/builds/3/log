Started by user [8mha:AAAAnx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAyhEgZh/dLi1CL9rNS87My84vjElNzMPABy3sl5yAAAAA==[0mMahan Hashemizadeh
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/mahanhz/activities-config-microservice.git # timeout=10
Fetching upstream changes from https://github.com/mahanhz/activities-config-microservice.git
 > git --version # timeout=10
using .gitcredentials to set credentials
 > git config --local credential.username mahanhz # timeout=10
 > git config --local credential.helper store --file=/tmp/git1865467555415492474.credentials # timeout=10
 > git -c core.askpass=true fetch --tags --progress https://github.com/mahanhz/activities-config-microservice.git +refs/heads/*:refs/remotes/origin/*
 > git config --local --remove-section credential # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision f8fb1726cf55941bf132467c86fc44ccbee365e0 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f f8fb1726cf55941bf132467c86fc44ccbee365e0
 > git rev-list ef08360cb90d0fa04137b5672f0b6fb31e49adce # timeout=10
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] stage (Approve deploy?)
Entering stage Approve deploy?
Proceeding
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] timeout
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] {
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] input
Deploy snapshot?
[8mha:AAABLh+LCAAAAAAAAP9dj71OwzAUhW9SAStiRGzMtfMjQlLUARUkkCpAKi/gJE7i1tjGvunP0ofgNWBB4hV4CF6AjZmBhUAnuMM5Z/k+6T59wJazcKZtTaZczYRyhSBGtnW3yELbWSX1grjWGG2ROOTGEaFMi+TmenJ7sTLcSqFmVxr57lvv5fP4690Hbwy91kqEvfGUzRmVTNV0glao+mRp4aBpS6cVKbRyWnLyx5IMH5+HD+bVB/8StiVXNTYb3T2swevw/X/4aNM/MGzO8wGWphs7CN4hAjaIZkBpmEUkTFISkjgcxGEQ0qnO6WmBYi5QcNfvlJWo+yU3Uq/6TjHjGo00pr8v0xHPkrKKGEtZl0ERBUdZwrI0YFGV5nlAjdUF5+X5ncHVNxwB86dbAQAA[0mProceed or [8mha:AAABKR+LCAAAAAAAAP9dkD1Ow0AQRseOQo0oER21d21HGDsoBQoFSBEghQus7bW98bK77I7z03AIrgENElfgEFyAjpqCBkMqmGLma96T5nv6gKGzcKZtTRZctUK5QhAju7pPZKVtW0m9Iq4zRlskDrlxRCjTIbm+mt+cbwy3Uqj2UiPffRu8fB5/vfvgzWDQWYmwN1uwJaOSqZrO0QpVn6wtHDRd6bQihVZOS07+WJLJ4/Pkwbz64F/AjuSqxmaru4N78Hp8/x8+3d4fGLbj+QBr04chgneIcNsgmjGlURaTKElJREbReBSFEV3onJ4WKJYCBXdBr6xEHZTcSL0JnGLGNRrpiP6+TKc8S8oqZixl/Q6LODzKEpalIYurNM9DyvK+pW/wQHUCVAEAAA==[0mAbort
Approved by [8mha:AAAAnx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAyhEgZh/dLi1CL9rNS87My84vjElNzMPABy3sl5yAAAAA==[0mMahan Hashemizadeh
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] }
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] // timeout
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] stage (Deploy snapshot)
Entering stage Deploy snapshot
Proceeding
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] node
Running on master in /var/lib/jenkins/workspace/Activities-config-deploy-snapshot
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] {
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] checkout
Cloning the remote Git repository
Cloning repository https://github.com/mahanhz/activities-config-microservice.git
 > git init /var/lib/jenkins/workspace/Activities-config-deploy-snapshot # timeout=10
Fetching upstream changes from https://github.com/mahanhz/activities-config-microservice.git
 > git --version # timeout=10
using .gitcredentials to set credentials
 > git config --local credential.username mahanhz # timeout=10
 > git config --local credential.helper store --file=/tmp/git8858338748517473410.credentials # timeout=10
 > git -c core.askpass=true fetch --tags --progress https://github.com/mahanhz/activities-config-microservice.git +refs/heads/*:refs/remotes/origin/*
 > git config --local --remove-section credential # timeout=10
 > git config remote.origin.url https://github.com/mahanhz/activities-config-microservice.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/mahanhz/activities-config-microservice.git # timeout=10
Fetching upstream changes from https://github.com/mahanhz/activities-config-microservice.git
using .gitcredentials to set credentials
 > git config --local credential.username mahanhz # timeout=10
 > git config --local credential.helper store --file=/tmp/git422232901759638591.credentials # timeout=10
 > git -c core.askpass=true fetch --tags --progress https://github.com/mahanhz/activities-config-microservice.git +refs/heads/*:refs/remotes/origin/*
 > git config --local --remove-section credential # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision f8fb1726cf55941bf132467c86fc44ccbee365e0 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f f8fb1726cf55941bf132467c86fc44ccbee365e0
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] stash
Stashed 23 file(s)
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] sh
[Activities-config-deploy-snapshot] Running shell script
+ ./gradlew deployToProduction -PrepoId=snapshots -PartifactVersion=LATEST
:deployToProduction
prodServer1#4|Passed in arguments are: snapshots, LATEST, activities_config_
prodServer1#4|This script assumes that the appadm user exists
prodServer1#4|Set up application directory (assuming /opt folder already exists)
prodServer1#4|Set up Log directory (assuming /var/opt folder already exists)
prodServer1#4|Get the jar file from Nexus
prodServer1#4|http://192.168.1.31:8082/nexus/service/local/artifact/maven/content?r=snapshots&g=com.amhzing.activities-config&a=activities-config-microservice&v=LATEST
prodServer1#4|Move the conf folder (this assumes that the conf file was placed in the user's home directory)
prodServer1#4|Create a symlink
prodServer1#4|ln: failed to create symbolic link â€˜/etc/init.d/activities-config-microserviceâ€™: File exists
prodServer1#4|Set up the application to start automatically on boot
prodServer1#4|Restart the app

BUILD SUCCESSFUL

Total time: 1 mins 6.022 secs

This build could be faster, please consider using the Gradle Daemon: https://docs.gradle.org/2.13/userguide/gradle_daemon.html
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] }
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] // node
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] stage (Health check)
Entering stage Health check
Proceeding
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] node
Running on master in /var/lib/jenkins/workspace/Activities-config-deploy-snapshot
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] {
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] retry
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] {
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] unstash
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] sh
[Activities-config-deploy-snapshot] Running shell script
+ chmod 755 gradlew
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] sh
[Activities-config-deploy-snapshot] Running shell script
+ SPRING_PROFILES_ACTIVE=prodServer1 ./gradlew smokeTest
:compileJava
:processResources
:classes
:compileTestJava
:processTestResources
:testClasses
:smokeTest

BUILD SUCCESSFUL

Total time: 1 mins 6.785 secs

This build could be faster, please consider using the Gradle Daemon: https://docs.gradle.org/2.13/userguide/gradle_daemon.html
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] }
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] // retry
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] }
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] // node
[8mha:AAAAaB+LCAAAAAAAAP9b85aBtbiIwTG/KF0vKzUvOzOvODlTryCnNB3I0ivPL8pOy8kv18vKT9JLzs8rzs9J1QuHCgaV5jlDhPzyS1IZIICRiYGhoohBKqM0pTg/D64Hh8ICAFt0h+h/AAAA[0m[Pipeline] End of Pipeline
Finished: SUCCESS
